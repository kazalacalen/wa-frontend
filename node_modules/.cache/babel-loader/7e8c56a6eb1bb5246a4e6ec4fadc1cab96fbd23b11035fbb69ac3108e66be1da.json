{"ast":null,"code":"import axios from \"axios\";\nimport $router from \"@/router\";\n\n//vezan uz konkretni backend\nlet Service = axios.create({\n  baseURL: \"http://localhost:3100/\",\n  timeout: 3000,\n  headers: {\n    Accept: \"application/json\",\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n/* KORISNICI */\n\nlet Auth = {\n  async login(username, password) {\n    try {\n      let response = await Service.post(\"/auth\", {\n        username: username,\n        password: password\n      });\n      let user = response.data;\n      localStorage.setItem(\"user\", JSON.stringify(user));\n      return true;\n    } catch (error) {\n      return false;\n    }\n  },\n  async register(username, password, firstname, country, city, state, about, adress, lastname) {\n    let response = await Service.post(\"/users\", {\n      username,\n      password,\n      firstname,\n      country,\n      city,\n      state,\n      about,\n      adress,\n      lastname\n    });\n    let user = response.data;\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    return true;\n  },\n  logout() {\n    localStorage.removeItem('user');\n  },\n  getUser() {\n    return JSON.parse(localStorage.getItem('user'));\n  },\n  getToken() {\n    let user = Auth.getUser();\n    if (user && user.token) {\n      return user.token;\n    }\n  },\n  authenticated() {\n    let user = Auth.getUser();\n    if (user && user.token) {\n      return true;\n    }\n    return false;\n  },\n  state: {\n    get authenticated() {\n      return Auth.authenticated();\n    }\n  }\n};\nexport { Auth };","map":{"version":3,"names":["axios","$router","Service","create","baseURL","timeout","headers","Accept","Auth","login","username","password","response","post","user","data","localStorage","setItem","JSON","stringify","error","register","firstname","country","city","state","about","adress","lastname","logout","removeItem","getUser","parse","getItem","getToken","token","authenticated"],"sources":["/Users/alen/Desktop/projekt/wa-frontend/service/index.js"],"sourcesContent":["import axios from \"axios\";\nimport $router from \"@/router\";\n\n//vezan uz konkretni backend\nlet Service = axios.create({\n    baseURL: \"http://localhost:3100/\", \n\n    timeout: 3000,\n    headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n    },\n});\n\n\n\n\n\n\n/* KORISNICI */\n\n\nlet Auth = {\n\n    async login(username, password) {\n\n        try {\n            let response = await Service.post(\"/auth\", {\n                username: username,\n                password: password\n            });\n\n            let user = response.data\n\n            localStorage.setItem(\"user\", JSON.stringify(user));\n            return true;\n        } catch (error) {\n            return false\n        }\n\n\n    },\n    async register(username,\n        password,\n        firstname,\n        country,\n        city,\n        state,\n        about,\n        adress,\n        lastname) {\n        let response = await Service.post(\"/users\", {\n            username,\n            password,\n            firstname,\n            country,\n            city,\n            state,\n            about,\n            adress,\n            lastname\n        })\n        let user = response.data\n\n        localStorage.setItem(\"user\", JSON.stringify(user));\n\n        return true;\n    },\n    logout() {\n        localStorage.removeItem('user');\n    },\n    getUser() {\n        return JSON.parse(localStorage.getItem('user'))\n    },\n    getToken() {\n        let user = Auth.getUser();\n        if (user && user.token) {\n\n            return user.token;\n        }\n    },\n    authenticated() {\n        let user = Auth.getUser()\n        if (user && user.token) {\n            return true\n        }\n        return false\n    },\n    state: {\n        get authenticated() {\n            return Auth.authenticated();\n        },\n    },\n}\n\n\n\n\nexport { Auth,  }\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,OAAO,MAAM,UAAU;;AAE9B;AACA,IAAIC,OAAO,GAAGF,KAAK,CAACG,MAAM,CAAC;EACvBC,OAAO,EAAE,wBAAwB;EAEjCC,OAAO,EAAE,IAAI;EACbC,OAAO,EAAE;IACLC,MAAM,EAAE,kBAAkB;IAC1B,cAAc,EAAE;EACpB;AACJ,CAAC,CAAC;;AAOF;;AAGA,IAAIC,IAAI,GAAG;EAEP,MAAMC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAE5B,IAAI;MACA,IAAIC,QAAQ,GAAG,MAAMV,OAAO,CAACW,IAAI,CAAC,OAAO,EAAE;QACvCH,QAAQ,EAAEA,QAAQ;QAClBC,QAAQ,EAAEA;MACd,CAAC,CAAC;MAEF,IAAIG,IAAI,GAAGF,QAAQ,CAACG,IAAI;MAExBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;MAClD,OAAO,IAAI;IACf,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZ,OAAO,KAAK;IAChB;EAGJ,CAAC;EACD,MAAMC,QAAQA,CAACX,QAAQ,EACnBC,QAAQ,EACRW,SAAS,EACTC,OAAO,EACPC,IAAI,EACJC,KAAK,EACLC,KAAK,EACLC,MAAM,EACNC,QAAQ,EAAE;IACV,IAAIhB,QAAQ,GAAG,MAAMV,OAAO,CAACW,IAAI,CAAC,QAAQ,EAAE;MACxCH,QAAQ;MACRC,QAAQ;MACRW,SAAS;MACTC,OAAO;MACPC,IAAI;MACJC,KAAK;MACLC,KAAK;MACLC,MAAM;MACNC;IACJ,CAAC,CAAC;IACF,IAAId,IAAI,GAAGF,QAAQ,CAACG,IAAI;IAExBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CAAC;IAElD,OAAO,IAAI;EACf,CAAC;EACDe,MAAMA,CAAA,EAAG;IACLb,YAAY,CAACc,UAAU,CAAC,MAAM,CAAC;EACnC,CAAC;EACDC,OAAOA,CAAA,EAAG;IACN,OAAOb,IAAI,CAACc,KAAK,CAAChB,YAAY,CAACiB,OAAO,CAAC,MAAM,CAAC,CAAC;EACnD,CAAC;EACDC,QAAQA,CAAA,EAAG;IACP,IAAIpB,IAAI,GAAGN,IAAI,CAACuB,OAAO,CAAC,CAAC;IACzB,IAAIjB,IAAI,IAAIA,IAAI,CAACqB,KAAK,EAAE;MAEpB,OAAOrB,IAAI,CAACqB,KAAK;IACrB;EACJ,CAAC;EACDC,aAAaA,CAAA,EAAG;IACZ,IAAItB,IAAI,GAAGN,IAAI,CAACuB,OAAO,CAAC,CAAC;IACzB,IAAIjB,IAAI,IAAIA,IAAI,CAACqB,KAAK,EAAE;MACpB,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB,CAAC;EACDV,KAAK,EAAE;IACH,IAAIW,aAAaA,CAAA,EAAG;MAChB,OAAO5B,IAAI,CAAC4B,aAAa,CAAC,CAAC;IAC/B;EACJ;AACJ,CAAC;AAKD,SAAS5B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}